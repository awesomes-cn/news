webpackJsonp([4],{"3TZe":function(t,a,i){"use strict";var e=i("lC5x"),s=i.n(e),n=i("J0Oq"),o=i.n(n),r=i("YFWx"),d=i("8+zT"),c=i("GIPS");a.a={asyncData:function(){var t=o()(s.a.mark(function t(a){a.req;var i,e=a.params;a.query;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(r.a)().get("news/"+e.id);case 2:return i=t.sent,t.abrupt("return",{news:i.data});case 4:case"end":return t.stop()}},t,this)}));return function(a){return t.apply(this,arguments)}}(),data:function(){return{isShowCom:!1}},components:{Comment:d.a,Up:c.a},methods:{goto:function(){var t=o()(s.a.mark(function t(a){var i,e;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(r.a)().get("news/"+this.news.id+"/prevnext",{params:{direction:a}});case 2:if(i=t.sent,0!==(e=i.data.dist)){t.next=7;break}return this.$alert("warning","已经到头了"),t.abrupt("return");case 7:this.$router.push("/news/"+e);case 8:case"end":return t.stop()}},t,this)}));return function(a){return t.apply(this,arguments)}}()},mounted:function(){this.isShowCom=!0}}},"3fSn":function(t,a,i){(t.exports=i("UTlt")(!1)).push([t.i,".up{display:inline-block;background-color:hsla(0,0%,95%,.8);color:#909090;padding:6.4px;padding:.4rem;width:35px;border-radius:2px;text-align:center}.up.has-true{background-color:rgba(240,173,78,.24);color:#ff9b00}",""])},"434S":function(t,a,i){"use strict";var e={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"main"},[i("div",{staticClass:"left"},[i("a",{staticClass:"navto",attrs:{href:"javascript:void(0)",title:"上一条"},on:{click:function(a){t.goto("prev")}}},[i("icon",{attrs:{name:"prev",width:"70px"}})],1)]),i("div",{staticClass:"middle"},[i("div",{staticClass:"news-main item-box"},[i("div",{staticClass:"tx-box"},[i("nuxt-link",{staticClass:"tx-wrap",attrs:{to:/mem/+t.news.mem.id}},[i("img",{staticClass:"tx",attrs:{src:t.cdn(t.news.mem.avatar,"mem")}})])],1),i("div",{staticClass:"quote-left"},[i("icon",{staticClass:"quote",attrs:{name:"quote",width:"25px;"}}),i("span",{staticClass:"fumo"},[t._v(t._s(t.timeago(t.news.created_at)))])],1),i("div",{staticClass:"inn"},[i("article",{staticClass:"news-con",domProps:{innerHTML:t._s(t.marked(t.news.con))}}),t.news.picture?i("img",{staticClass:"img-con",attrs:{src:t.cdn(t.news.picture,"news")},on:{click:function(a){t.zoomBig(t.cdn(t.news.picture,"news"))}}}):t._e()]),i("div",{staticClass:"quote-right"},[i("icon",{staticClass:"quote",attrs:{name:"quote",width:"25px;",rotate:"180"}})],1),i("div",{staticClass:"extra"}),i("div",{staticClass:"oper-box"},[i("up",{attrs:{item:t.news}}),i("nuxt-link",{staticClass:"share-btn",attrs:{to:"/news/"+t.news.id+"/share",title:"分享"}},[i("icon",{attrs:{name:"share",width:"25px"}})],1)],1)]),t.isShowCom?i("div",{staticClass:"item-box"},[i("comment",{attrs:{flag:"news-detail",typ:"NEWS",idcd:t.news.id}})],1):t._e()]),i("div",{staticClass:"right"},[i("a",{staticClass:"navto",attrs:{href:"javascript:void(0)",title:"下一条"},on:{click:function(a){t.goto("next")}}},[i("icon",{attrs:{name:"next",width:"70px"}})],1)])])},staticRenderFns:[]};a.a=e},"8+zT":function(t,a,i){"use strict";var e=i("GXX+"),s=i("NRvp");var n=function(t){i("Ptet")},o=i("X4nt")(e.a,s.a,!1,n,"data-v-bf87327a",null);a.a=o.exports},"E9+R":function(t,a,i){"use strict";var e={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("a",{staticClass:"up",class:"has-"+t.item.isFavor,attrs:{href:"javascript:void(0)",title:"有用"},on:{click:function(a){t.switchFavor(t.item)}}},[i("icon",{attrs:{name:"arrow-up",width:"18px",alone:"true"}}),i("div",[t._v(t._s(t.item.favor))])],1)},staticRenderFns:[]};a.a=e},GIPS:function(t,a,i){"use strict";var e=i("dH7G"),s=i("E9+R");var n=function(t){i("mu1Q")},o=i("X4nt")(e.a,s.a,!1,n,null,null);a.a=o.exports},"GXX+":function(t,a,i){"use strict";var e=i("lC5x"),s=i.n(e),n=i("J0Oq"),o=i.n(n),r=i("YFWx"),d=i("L7Pj"),c=i.n(d);a.a={props:["flag","typ","idcd"],data:function(){return{coms:[],comcon:"",isSubmiting:!1,editing:null,setval:{time:Date.now(),val:""},subMap:{new:{ready:"提交",ing:"提交中..."},edit:{ready:"更新评论",ing:"更新中..."}},showEmbox:!1,isShowEditor:!1,emojis:["😜","😀","😂","🤣","😄","😊","😍","😋","😘","😙","😛","😜","🤓","😎","🤡","🙄","😠","💩","😧","😭","💤","👏","👍","👎","🙌","👌","🤝","🙏","📢","💗","💔","💐"]}},computed:{session:function(){return this.$store.state.session}},methods:{setEditVal:function(t){this.setval={time:Date.now(),val:t,mode:"set"}},insertEditVal:function(t){this.setval={time:Date.now(),val:t,mode:"insert"}},insertEmoji:function(t){this.insertEditVal(t),this.showEmbox=!1},list:function(){var t=this;this.idcd&&this.idcd>0&&Object(r.a)().get("comment?typ="+this.typ+"&idcd="+this.idcd).then(function(a){var i=a.data.items;t.coms=i})},submit:function(){this.showLogin()||""!==this.comcon.trim()&&(this.isSubmiting=!0,this.editing?this.update():this.save())},save:function(){var t=o()(s.a.mark(function t(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(r.a)().post("comment",{typ:this.typ,idcd:this.idcd,con:this.comcon});case 2:a=t.sent,this.$alert("success","发布评论成功！"),this.coms.push(a.data.item),this.setEditVal(""),this.isSubmiting=!1;case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),update:function(){var t=o()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(r.a)().put("comment/"+this.editing.id,{con:this.comcon});case 2:this.$alert("success","更新评论成功！"),this.editing.con=this.comcon,this.setEditVal(""),this.isSubmiting=!1,this.editing=null;case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),destroy:function(t,a){var i=this,e=this;confirm("确认删除该评论？")&&Object(r.a)().delete("comment/"+t.id).then(function(t){t.data.status&&(i.$alert("success","删除评论成功！"),e.coms.splice(a,1))})},scrollToEditor:function(t){c()("html,body").animate({scrollTop:c()(t.target).closest(".comment-wraper").find(".editor-go").offset().top-100})},edit:function(t,a){this.scrollToEditor(a),this.editing=t,this.setEditVal(t.con)},cancelEditing:function(){this.editing=null,this.setEditVal("")},reply:function(t,a){this.scrollToEditor(a),this.insertEditVal(this.comcon+"@"+t.mem.nc+" ")},processAt:function(t){return t.replace(/@([^:：?\s@]+)/g,'<a href="#" class="ata">@$1</a>')},switchFavor:function(t){this.showLogin()||Object(r.a)().post("oper",{opertyp:"FAVOR",typ:"COMMENT",idcd:t.id}).then(function(a){t.favor=a.data.amount,t.isFavor=a.data.has})}},watch:{idcd:function(){this.list()}},components:{editor:function(){return i.e(22).then(i.bind(null,"g1Qn"))}},mounted:function(){this.list()},created:function(){var t=o()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.isShowEditor=!0;case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},GeEN:function(t,a,i){var e=i("sm40");"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);i("FIqI")("51e906e7",e,!0,{sourceMap:!1})},NRvp:function(t,a,i){"use strict";var e={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"comment-wraper"},[i("div",{staticClass:"editor-go"},[i("div",{staticClass:"emoji-wrap"},[i("a",{staticClass:"emoji-btn",attrs:{href:"javascripot: void(0)"},on:{click:function(a){t.showEmbox=!0}}},[t._v("😜")]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showEmbox,expression:"showEmbox"}],staticClass:"emoji-box"},t._l(t.emojis,function(a){return i("a",{staticClass:"emoji-item",attrs:{href:"javascript: void(0)"},on:{click:function(i){t.insertEmoji(a)}}},[t._v(t._s(a))])}))]),t.isShowEditor?i("editor",{attrs:{flag:t.flag,setval:t.setval,placeholder:"我有话说"},model:{value:t.comcon,callback:function(a){t.comcon=a},expression:"comcon"}}):t._e(),i("button",{staticClass:"sub-btn",attrs:{disabled:t.isSubmiting},on:{click:t.submit}},[t._v(t._s(t.subMap[t.editing?"edit":"new"][t.isSubmiting?"ing":"ready"]))])],1),t._l(t.coms,function(a,e){return i("div",{staticClass:"citem"},[i("nuxt-link",{attrs:{to:"/mem/"+a.mem.id}},[i("img",{staticClass:"mem-tx",attrs:{src:t.cdn(a.mem.avatar,"mem")}}),i("strong",[t._v(t._s(a.mem.nc))])]),i("span",{staticClass:"time"},[t._v(t._s(t.timeago(a.created_at)))]),i("article",{domProps:{innerHTML:t._s(t.processAt(t.marked(a.con)))}}),i("div",{staticClass:"opers"},[i("a",{staticClass:"up",class:"has-"+a.isFavor,attrs:{href:"javascript:void(0)"},on:{click:function(i){t.switchFavor(a)}}},[i("icon",{attrs:{name:"arrow-up"}},[t._v(t._s(a.favor))])],1),i("a",{attrs:{href:"javascript:void(0)"},on:{click:function(i){t.reply(a,i)}}},[i("icon",{attrs:{name:"reply"}},[t._v("回复")])],1),t.session&&a.mem.id==t.session.id?i("a",{staticClass:"extra",attrs:{href:"javascript:void(0)"},on:{click:function(i){t.edit(a,i)}}},[i("span",[t._v("编辑")])]):t._e(),t.session&&a.mem.id==t.session.id?i("a",{staticClass:"extra",attrs:{href:"javascript:void(0)"},on:{click:function(i){t.destroy(a,e)}}},[i("span",[t._v("删除  ")])]):t._e()])],1)})],2)},staticRenderFns:[]};a.a=e},OJlC:function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=i("3TZe"),s=i("434S");var n=function(t){i("GeEN")},o=i("X4nt")(e.a,s.a,!1,n,"data-v-7a820850",null);a.default=o.exports},POsA:function(t,a,i){(t.exports=i("UTlt")(!1)).push([t.i,'.citem[data-v-bf87327a]{position:relative;padding-left:35px;margin-bottom:30px}.citem:hover .opers .extra[data-v-bf87327a]{display:inline-block}.citem .time[data-v-bf87327a]{color:#ababab;margin-left:10px}.citem .opers a[data-v-bf87327a]{color:#ddd;display:inline-block;margin-right:10px}.citem .opers a.up[data-v-bf87327a]{background-color:hsla(0,0%,95%,.8);color:#909090;padding:3.2px;padding:.2rem;padding-right:8px;padding-right:.5rem;border-radius:2px}.citem .opers a.up.has-true[data-v-bf87327a]{background-color:rgba(240,173,78,.24);color:#ff9b00}.citem .opers svg[data-v-bf87327a]{width:15px;height:15px;float:left;margin-right:3px}.citem .opers .extra[data-v-bf87327a]{display:none}.editor-go[data-v-bf87327a]{margin-bottom:40px;position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.editor-go .meditor[data-v-bf87327a]{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;margin:0 8px}.editor-go .emoji-wrap[data-v-bf87327a]{position:relative;padding-top:5px}.editor-go .emoji-btn[data-v-bf87327a]{font-size:20px}.editor-go .emoji-box[data-v-bf87327a]{position:absolute;top:50px;background-color:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;font-size:20px;-ms-flex-wrap:wrap;flex-wrap:wrap;width:315px;z-index:10;padding:20px;border-radius:2px;left:-15px;-webkit-box-shadow:0 0 10px #ddd;box-shadow:0 0 10px #ddd;-webkit-box-sizing:content-box;box-sizing:content-box}.editor-go .emoji-box[data-v-bf87327a]:before{content:"";display:block;position:absolute;top:-10px;left:20px;width:20px;height:20px;border:1px solid #eee;z-index:-1;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-top-left-radius:5px;background-color:#fff;border-bottom:0;border-right:0}.editor-go .emoji-box .emoji-item[data-v-bf87327a]{border:1px solid #e8e8e8;margin:-1px 0 0 -1px;width:40px;height:40px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.editor-go .emoji-box .emoji-item[data-v-bf87327a]:hover{border:1px solid #eb7350;background:#fff9ec;z-index:2;font-size:22px}article[data-v-bf87327a]{margin:10px 0}.sub-btn[data-v-bf87327a]{border:none;color:#fff;background-color:#da552f;padding:10px 20px;cursor:pointer}.cancel-edit[data-v-bf87327a]{margin-left:10px;color:#da552f}.mem-tx[data-v-bf87327a]{width:25px;height:25px;border-radius:100%;display:block;position:absolute;left:0;top:5px}',""])},Ptet:function(t,a,i){var e=i("POsA");"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);i("FIqI")("b916f98e",e,!0,{sourceMap:!1})},dH7G:function(t,a,i){"use strict";var e=i("YFWx");a.a={props:["item"],methods:{switchFavor:function(t){this.showLogin()||Object(e.a)().post("oper",{opertyp:"FAVOR",typ:"NEWS",idcd:t.id}).then(function(a){t.favor=a.data.amount,t.isFavor=a.data.has})}}}},mu1Q:function(t,a,i){var e=i("3fSn");"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);i("FIqI")("ff047794",e,!0,{sourceMap:!1})},sm40:function(t,a,i){(t.exports=i("UTlt")(!1)).push([t.i,".main[data-v-7a820850]{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding-top:30px;background-color:hsla(180,5%,96%,.63);padding-bottom:50px}.main .middle[data-v-7a820850]{max-width:650px;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;word-wrap:break-word;overflow:auto}.main .middle .item-box[data-v-7a820850]{background-color:#fff;padding:50px;margin-top:20px;position:relative;-webkit-box-shadow:0 0 3px hsla(0,0%,87%,.48);box-shadow:0 0 3px hsla(0,0%,87%,.48)}@media (max-width:576px){.main .middle .item-box[data-v-7a820850]{padding:50px 20px}}.main .middle .news-main[data-v-7a820850]{border-radius:2px}.main .middle .tx-box[data-v-7a820850]{text-align:center;margin-bottom:20px}.main .middle .tx[data-v-7a820850]{width:60px;height:60px;border-radius:100%}.main .middle .inn[data-v-7a820850]{padding:2px}.main .middle .inn .img-con[data-v-7a820850]{max-width:80%;margin-bottom:20px;cursor:-webkit-zoom-in;cursor:zoom-in}.main .middle article.news-con[data-v-7a820850]{font-size:19.2px;font-size:1.2rem;line-height:30px;padding:40px}@media (max-width:576px){.main .middle article.news-con[data-v-7a820850]{padding:20px 10px}}.main .middle article.news-con a[data-v-7a820850]{color:#025aa5;border-bottom:1px dashed #025aa5}.main .middle article.news-con table[data-v-7a820850]{border:1px solid #eceeef;width:100%;max-width:100%;margin-bottom:16px;margin-bottom:1rem;border-collapse:collapse}.main .middle article.news-con table td[data-v-7a820850],.main .middle article.news-con table th[data-v-7a820850]{vertical-align:bottom;border-bottom-width:2px;border:1px solid #eceeef;padding:12px;padding:.75rem}.main .middle article.news-con table th[data-v-7a820850]{border-bottom:2px solid #eceeef}.main .middle .extra[data-v-7a820850]{padding-top:20px;color:#aaa}.main .middle .quote[data-v-7a820850]{color:#888}.main .middle .quote-right[data-v-7a820850]{text-align:right}.main .middle .quote-left[data-v-7a820850]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.main .middle .fumo[data-v-7a820850]{color:#a9a8a8;margin-left:10px}.main .left[data-v-7a820850]{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:100;flex-shrink:100;text-align:center}@media (max-width:576px){.main .left[data-v-7a820850]{display:none}}.main .right[data-v-7a820850]{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:100;flex-shrink:100;text-align:center}@media (max-width:576px){.main .right[data-v-7a820850]{display:none}}.main .navto[data-v-7a820850]{color:#ddd;position:fixed;margin-top:50px}.main .oper-box[data-v-7a820850]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.main .oper-box .share-btn[data-v-7a820850]{color:#b0bec7;margin-left:20px}",""])}});