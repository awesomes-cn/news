webpackJsonp([4],{"2+tm":function(t,a,i){var e=i("3ZZl");"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);i("FIqI")("2b3c2f6a",e,!0,{sourceMap:!1})},"3TZe":function(t,a,i){"use strict";var e=i("lC5x"),n=i.n(e),s=i("J0Oq"),o=i.n(s),r=i("YFWx"),c=i("8+zT"),d=i("GIPS");a.a={asyncData:function(){var t=o()(n.a.mark(function t(a){a.req;var i,e=a.params;a.query;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(r.a)().get("news/"+e.id);case 2:return i=t.sent,t.abrupt("return",{news:i.data});case 4:case"end":return t.stop()}},t,this)}));return function(a){return t.apply(this,arguments)}}(),data:function(){return{isShowCom:!1}},components:{Comment:c.a,Up:d.a},methods:{goto:function(){var t=o()(n.a.mark(function t(a){var i,e;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(r.a)().get("news/"+this.news.id+"/prevnext",{params:{direction:a}});case 2:if(i=t.sent,0!==(e=i.data.dist)){t.next=7;break}return this.$alert("warning","已经到头了"),t.abrupt("return");case 7:this.$router.push("/news/"+e);case 8:case"end":return t.stop()}},t,this)}));return function(a){return t.apply(this,arguments)}}()},mounted:function(){this.isShowCom=!0}}},"3ZZl":function(t,a,i){(t.exports=i("UTlt")(!1)).push([t.i,".citem[data-v-9fbca0ee]{position:relative;padding-left:35px;margin-bottom:30px}.citem:hover .opers .extra[data-v-9fbca0ee]{display:inline-block}.citem .time[data-v-9fbca0ee]{color:#ababab;margin-left:10px}.citem .opers a[data-v-9fbca0ee]{color:#ddd;display:inline-block;margin-right:10px}.citem .opers a.up[data-v-9fbca0ee]{background-color:hsla(0,0%,95%,.8);color:#909090;padding:3.2px;padding:.2rem;padding-right:8px;padding-right:.5rem;border-radius:2px}.citem .opers a.up.has-true[data-v-9fbca0ee]{background-color:rgba(240,173,78,.24);color:#ff9b00}.citem .opers svg[data-v-9fbca0ee]{width:15px;height:15px;float:left;margin-right:3px}.citem .opers .extra[data-v-9fbca0ee]{display:none}.editor-go[data-v-9fbca0ee]{margin-bottom:40px;position:relative;padding-right:80px}article[data-v-9fbca0ee]{margin:10px 0}.sub-btn[data-v-9fbca0ee]{border:none;color:#fff;background-color:#da552f;padding:10px 20px;cursor:pointer;position:absolute;right:0;top:4px}.cancel-edit[data-v-9fbca0ee]{margin-left:10px;color:#da552f}.mem-tx[data-v-9fbca0ee]{width:25px;height:25px;border-radius:100%;display:block;position:absolute;left:0;top:5px}",""])},"3fSn":function(t,a,i){(t.exports=i("UTlt")(!1)).push([t.i,".up{display:inline-block;background-color:hsla(0,0%,95%,.8);color:#909090;padding:6.4px;padding:.4rem;width:35px;border-radius:2px;text-align:center}.up.has-true{background-color:rgba(240,173,78,.24);color:#ff9b00}",""])},"434S":function(t,a,i){"use strict";var e={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"main"},[i("div",{staticClass:"left"},[i("a",{staticClass:"navto",attrs:{href:"javascript:void(0)",title:"上一条"},on:{click:function(a){t.goto("prev")}}},[i("icon",{attrs:{name:"prev",width:"70px"}})],1)]),i("div",{staticClass:"middle"},[i("div",{staticClass:"news-main item-box"},[i("div",{staticClass:"tx-box"},[i("nuxt-link",{staticClass:"tx-wrap",attrs:{to:/mem/+t.news.mem.id}},[i("img",{staticClass:"tx",attrs:{src:t.cdn(t.news.mem.avatar,"mem")}})])],1),i("div",{staticClass:"quote-left"},[i("icon",{staticClass:"quote",attrs:{name:"quote",width:"25px;"}}),i("span",{staticClass:"fumo"},[t._v(t._s(t.timeago(t.news.created_at)))])],1),i("div",{staticClass:"inn"},[i("article",{staticClass:"news-con",domProps:{innerHTML:t._s(t.marked(t.news.con))}}),t.news.picture?i("img",{staticClass:"img-con",attrs:{src:t.cdn(t.news.picture,"news")},on:{click:function(a){t.zoomBig(t.cdn(t.news.picture,"news"))}}}):t._e()]),i("div",{staticClass:"quote-right"},[i("icon",{staticClass:"quote",attrs:{name:"quote",width:"25px;",rotate:"180"}})],1),i("div",{staticClass:"extra"}),i("div",{staticClass:"oper-box"},[i("up",{attrs:{item:t.news}}),i("nuxt-link",{staticClass:"share-btn",attrs:{to:"/news/"+t.news.id+"/share",title:"分享"}},[i("icon",{attrs:{name:"share",width:"25px"}})],1)],1)]),t.isShowCom?i("div",{staticClass:"item-box"},[i("comment",{attrs:{flag:"news-detail",typ:"NEWS",idcd:t.news.id}})],1):t._e()]),i("div",{staticClass:"right"},[i("a",{staticClass:"navto",attrs:{href:"javascript:void(0)",title:"下一条"},on:{click:function(a){t.goto("next")}}},[i("icon",{attrs:{name:"next",width:"70px"}})],1)])])},staticRenderFns:[]};a.a=e},"8+zT":function(t,a,i){"use strict";var e=i("GXX+"),n=i("AYKB");var s=function(t){i("2+tm")},o=i("X4nt")(e.a,n.a,!1,s,"data-v-9fbca0ee",null);a.a=o.exports},AYKB:function(t,a,i){"use strict";var e={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"comment-wraper"},[i("div",{staticClass:"editor-go"},[i("button",{staticClass:"sub-btn",attrs:{disabled:t.isSubmiting},on:{click:t.submit}},[t._v(t._s(t.subMap[t.editing?"edit":"new"][t.isSubmiting?"ing":"ready"]))]),t.isShowEditor?i("editor",{attrs:{flag:t.flag,setval:t.setval,placeholder:"我有话说"},model:{value:t.comcon,callback:function(a){t.comcon=a},expression:"comcon"}}):t._e()],1),t._l(t.coms,function(a,e){return i("div",{staticClass:"citem"},[i("nuxt-link",{attrs:{to:"/mem/"+a.mem.id}},[i("img",{staticClass:"mem-tx",attrs:{src:t.cdn(a.mem.avatar,"mem")}}),i("strong",[t._v(t._s(a.mem.nc))])]),i("span",{staticClass:"time"},[t._v(t._s(t.timeago(a.created_at)))]),i("article",{domProps:{innerHTML:t._s(t.processAt(t.marked(a.con)))}}),i("div",{staticClass:"opers"},[i("a",{staticClass:"up",class:"has-"+a.isFavor,attrs:{href:"javascript:void(0)"},on:{click:function(i){t.switchFavor(a)}}},[i("icon",{attrs:{name:"arrow-up"}},[t._v(t._s(a.favor))])],1),i("a",{attrs:{href:"javascript:void(0)"},on:{click:function(i){t.reply(a,i)}}},[i("icon",{attrs:{name:"reply"}},[t._v("回复")])],1),t.session&&a.mem.id==t.session.id?i("a",{staticClass:"extra",attrs:{href:"javascript:void(0)"},on:{click:function(i){t.edit(a,i)}}},[i("span",[t._v("编辑")])]):t._e(),t.session&&a.mem.id==t.session.id?i("a",{staticClass:"extra",attrs:{href:"javascript:void(0)"},on:{click:function(i){t.destroy(a,e)}}},[i("span",[t._v("删除  ")])]):t._e()])],1)})],2)},staticRenderFns:[]};a.a=e},"E9+R":function(t,a,i){"use strict";var e={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("a",{staticClass:"up",class:"has-"+t.item.isFavor,attrs:{href:"javascript:void(0)",title:"有用"},on:{click:function(a){t.switchFavor(t.item)}}},[i("icon",{attrs:{name:"arrow-up",width:"18px",alone:"true"}}),i("div",[t._v(t._s(t.item.favor))])],1)},staticRenderFns:[]};a.a=e},GIPS:function(t,a,i){"use strict";var e=i("dH7G"),n=i("E9+R");var s=function(t){i("mu1Q")},o=i("X4nt")(e.a,n.a,!1,s,null,null);a.a=o.exports},"GXX+":function(t,a,i){"use strict";var e=i("lC5x"),n=i.n(e),s=i("J0Oq"),o=i.n(s),r=i("YFWx"),c=i("L7Pj"),d=i.n(c);a.a={props:["flag","typ","idcd"],data:function(){return{coms:[],comcon:"",isSubmiting:!1,editing:null,setval:{time:Date.now(),val:""},subMap:{new:{ready:"提交",ing:"提交中..."},edit:{ready:"更新评论",ing:"更新中..."}},isShowEditor:!1}},computed:{session:function(){return this.$store.state.session}},methods:{setEditVal:function(t){this.setval={time:Date.now(),val:t}},list:function(){var t=this;this.idcd&&this.idcd>0&&Object(r.a)().get("comment?typ="+this.typ+"&idcd="+this.idcd).then(function(a){var i=a.data.items;t.coms=i})},submit:function(){this.showLogin()||""!==this.comcon.trim()&&(this.isSubmiting=!0,this.editing?this.update():this.save())},save:function(){var t=o()(n.a.mark(function t(){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(r.a)().post("comment",{typ:this.typ,idcd:this.idcd,con:this.comcon});case 2:a=t.sent,this.$alert("success","发布评论成功！"),this.coms.push(a.data.item),this.setEditVal(""),this.isSubmiting=!1;case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),update:function(){var t=o()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(r.a)().put("comment/"+this.editing.id,{con:this.comcon});case 2:this.$alert("success","更新评论成功！"),this.editing.con=this.comcon,this.setEditVal(""),this.isSubmiting=!1,this.editing=null;case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),destroy:function(t,a){var i=this,e=this;confirm("确认删除该评论？")&&Object(r.a)().delete("comment/"+t.id).then(function(t){t.data.status&&(i.$alert("success","删除评论成功！"),e.coms.splice(a,1))})},scrollToEditor:function(t){d()("html,body").animate({scrollTop:d()(t.target).closest(".comment-wraper").find(".editor-go").offset().top-100})},edit:function(t,a){this.scrollToEditor(a),this.editing=t,this.setEditVal(t.con)},cancelEditing:function(){this.editing=null,this.setEditVal("")},reply:function(t,a){this.scrollToEditor(a),this.setEditVal(this.comcon+"@"+t.mem.nc+" ")},processAt:function(t){return t.replace(/@([^:：?\s@]+)/g,'<a href="#" class="ata">@$1</a>')},switchFavor:function(t){this.showLogin()||Object(r.a)().post("oper",{opertyp:"FAVOR",typ:"COMMENT",idcd:t.id}).then(function(a){t.favor=a.data.amount,t.isFavor=a.data.has})}},watch:{idcd:function(){this.list()}},components:{editor:function(){return i.e(22).then(i.bind(null,"g1Qn"))}},mounted:function(){this.list()},created:function(){var t=o()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.isShowEditor=!0;case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},GeEN:function(t,a,i){var e=i("sm40");"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);i("FIqI")("51e906e7",e,!0,{sourceMap:!1})},OJlC:function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=i("3TZe"),n=i("434S");var s=function(t){i("GeEN")},o=i("X4nt")(e.a,n.a,!1,s,"data-v-7a820850",null);a.default=o.exports},dH7G:function(t,a,i){"use strict";var e=i("YFWx");a.a={props:["item"],methods:{switchFavor:function(t){this.showLogin()||Object(e.a)().post("oper",{opertyp:"FAVOR",typ:"NEWS",idcd:t.id}).then(function(a){t.favor=a.data.amount,t.isFavor=a.data.has})}}}},mu1Q:function(t,a,i){var e=i("3fSn");"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);i("FIqI")("ff047794",e,!0,{sourceMap:!1})},sm40:function(t,a,i){(t.exports=i("UTlt")(!1)).push([t.i,".main[data-v-7a820850]{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding-top:30px;background-color:hsla(180,5%,96%,.63);padding-bottom:50px}.main .middle[data-v-7a820850]{max-width:650px;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;word-wrap:break-word;overflow:auto}.main .middle .item-box[data-v-7a820850]{background-color:#fff;padding:50px;margin-top:20px;position:relative;-webkit-box-shadow:0 0 3px hsla(0,0%,87%,.48);box-shadow:0 0 3px hsla(0,0%,87%,.48)}@media (max-width:576px){.main .middle .item-box[data-v-7a820850]{padding:50px 20px}}.main .middle .news-main[data-v-7a820850]{border-radius:2px}.main .middle .tx-box[data-v-7a820850]{text-align:center;margin-bottom:20px}.main .middle .tx[data-v-7a820850]{width:60px;height:60px;border-radius:100%}.main .middle .inn[data-v-7a820850]{padding:2px}.main .middle .inn .img-con[data-v-7a820850]{max-width:80%;margin-bottom:20px;cursor:-webkit-zoom-in;cursor:zoom-in}.main .middle article.news-con[data-v-7a820850]{font-size:19.2px;font-size:1.2rem;line-height:30px;padding:40px}@media (max-width:576px){.main .middle article.news-con[data-v-7a820850]{padding:20px 10px}}.main .middle article.news-con a[data-v-7a820850]{color:#025aa5;border-bottom:1px dashed #025aa5}.main .middle article.news-con table[data-v-7a820850]{border:1px solid #eceeef;width:100%;max-width:100%;margin-bottom:16px;margin-bottom:1rem;border-collapse:collapse}.main .middle article.news-con table td[data-v-7a820850],.main .middle article.news-con table th[data-v-7a820850]{vertical-align:bottom;border-bottom-width:2px;border:1px solid #eceeef;padding:12px;padding:.75rem}.main .middle article.news-con table th[data-v-7a820850]{border-bottom:2px solid #eceeef}.main .middle .extra[data-v-7a820850]{padding-top:20px;color:#aaa}.main .middle .quote[data-v-7a820850]{color:#888}.main .middle .quote-right[data-v-7a820850]{text-align:right}.main .middle .quote-left[data-v-7a820850]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.main .middle .fumo[data-v-7a820850]{color:#a9a8a8;margin-left:10px}.main .left[data-v-7a820850]{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:100;flex-shrink:100;text-align:center}@media (max-width:576px){.main .left[data-v-7a820850]{display:none}}.main .right[data-v-7a820850]{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:100;flex-shrink:100;text-align:center}@media (max-width:576px){.main .right[data-v-7a820850]{display:none}}.main .navto[data-v-7a820850]{color:#ddd;position:fixed;margin-top:50px}.main .oper-box[data-v-7a820850]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.main .oper-box .share-btn[data-v-7a820850]{color:#b0bec7;margin-left:20px}",""])}});